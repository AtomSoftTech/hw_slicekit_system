Slice Cards
===========

Summary
-------

Slicekit Slice Cards are used to implement peripheral circuitry as part of the Slicekit modular hardware platform.

There are four types of Slice Card, Star, Triangle, Square and Circle. These only differ in the number of xCore Processor IO signals available to the Slice Card.

Star and Square Slice Cards have 20 xCore Processor IOs including four 1-bit ports.

Triangle Slice Cards have 24 xCore Processor IOs including twelve 1-bit ports.

Circle Slice Cards have 20 xCore Processor IOs including twelve 1-bit ports.

Star and Square slices are a subset of Triangle and Circle slices so a Star/Square Slice Card can be plugged into a Triangle/Circle Slot (see notes later for exceptions).

A Double Slice Card is a board with two Slice Card finger connectors and connects to all of the IO on one Tile.

Power
-----

Slice Cards have two power supplies available to them, 5V and 3V3.
The 5V supply can range from 4.75V to 5.25V (5\%) at a current of up to 0.25A per slice.
The 3V3 supply can range from 3.13V to 3.47V (5\%) at a current of up to 0.25A per slice.

Signal IO
---------

A single Slice Card connector has 36 contacts. The four types of slice have a number of common pins which are described below.

- GND. Power supply ground.
- 5V. 5V power supply input.
- 3V3. 3.3V power supply input.
- NC. Not connected.
- CLK. System clock input. 25MHz.
- RST_N. System reset input, active low. Push-Pull drive.

The other available pins are connected to xCore Processor IOs as shown in the pinout tables.

Slice Cards can take their power from either 5V or 3V3 or both. Slice Cards should draw no more than 250mA from each supply.

At system power-on, the 5V supply will power up first, followed by the 3V3 supply. The system reset signal will de-assert a short time after this.

Due to the constraints on the Slicekit Core Board, there are some ports on the Slice Cards which should be used in preference to others. These constraints are as follows:

- X0D4-7 can be selected for use as the XScope XMOS Link
- X1D40-43 are not available on the L2
- X0D0,1,10,11 could be used for SPI boot on a master core board. These pins will be hi-z when booting and transfer to the XCore IO signals when boot is complete.

For Slice Cards intended for use in the Star Slot, P4B should be avoided with the knowledge that using it means XScope can not be used if the Slice Card is plugged into the Star Slot.

Slice Card Form Factors
-----------------------

The Slice Cards use a standard PCIe x1 edge finger to connect to the Slicekit Core Board. Because of this, all Slice Card PCBs must be 1.6mm thick.

There is no hard specification as to the length of Slice Cards as this poses no mechanical clashing hazard.

Four mounting holes are specified in the corners of the slice for mechanical stability. These should be used with 6mm standoffs, example part Toby Electronics DCB-6.

An optional retention hole is specified for use in securing the Slice Card to the Slicekit Core Board. This is useful to ensure the Slice Cards is not accidentally unplugged when using the system. 
Typical usage uses a 2.54mm cable tie between this hole and the associated hole in the Slicekit Core Board ensuring the Slice Card cannot be unplugged.

Note that for quick, low cost boards using low cost PCB manufacturing, the chamfer is not required and can be generated by hand using a file or similar.

Connector Pinouts
-----------------

The pinouts of the four types of Slice Card are shown below.

+-----------------------+
| STAR                  |
+-----+--------+--------+
| PIN | SIDE B | SIDE A |
+=====+========+========+
| 1   | NC     | NC     |
+-----+--------+--------+
| 2   | NC     |*5V*    |
+-----+--------+--------+
| 3   |*GND*   | NC     |
+-----+--------+--------+
| 4   | NC     | NC     |
+-----+--------+--------+
| 5   |*3V3*   |*GND*   |
+-----+--------+--------+
| 6   | X0D2   | X0D8   |
+-----+--------+--------+
| 7   | X0D3   | X0D9   |
+-----+--------+--------+
| 8   |*GND*   | X0D1   |
+-----+--------+--------+
| 9   | X0D4   | X0D6   |
+-----+--------+--------+
| 10  | X0D10  |*GND*   |
+-----+--------+--------+
| 11  | X0D3   | X0D7   |
+-----+--------+--------+
|**MECHANICAL KEY**     |
+-----+--------+--------+
| 12  | X0D14  | X0D20  |
+-----+--------+--------+
| 13  | X0D15  | X0D21  |
+-----+--------+--------+
| 14  |*CLK*   |*GND*   |
+-----+--------+--------+
| 15  | X0D22  | X0D13  |
+-----+--------+--------+
| 16  |*GND*   |*RST_N* |
+-----+--------+--------+
| 17  | X0D16  | X0D18  |
+-----+--------+--------+
| 18  | X0D17  | X0D19  |
+-----+--------+--------+

+-----------------------+
| SQUARE                |
+-----+--------+--------+
| PIN | SIDE B | SIDE A |
+=====+========+========+
| 1   |*DEBUG* |*MSEL*  |
+-----+--------+--------+
| 2   |*TCK*   |*5V*    |
+-----+--------+--------+
| 3   |*GND*   |*TMS*   |
+-----+--------+--------+
| 4   |*TDI*   |*TDO*   |
+-----+--------+--------+
| 5   |*3V3*   |*PRSNT* |
+-----+--------+--------+
| 6   | X1D2   | X1D8   |
+-----+--------+--------+
| 7   | X1D3   | X1D9   |
+-----+--------+--------+
| 8   |*GND*   | X1D1   |
+-----+--------+--------+
| 9   | X1D4   | X1D6   |
+-----+--------+--------+
| 10  | X1D10  |*GND*   |
+-----+--------+--------+
| 11  | X1D3   | X1D7   |
+-----+--------+--------+
|**MECHANICAL KEY**     |
+-----+--------+--------+
| 12  | X1D14  | X1D20  |
+-----+--------+--------+
| 13  | X1D15  | X1D21  |
+-----+--------+--------+
| 14  |*CLK*   |*GND*   |
+-----+--------+--------+
| 15  | X1D22  | X1D13  |
+-----+--------+--------+
| 16  |*GND*   |*RST_N* |
+-----+--------+--------+
| 17  | X1D16  | X1D18  |
+-----+--------+--------+
| 18  | X1D17  | X1D19  |
+-----+--------+--------+

+-----------------------+
| TRIANGLE              |
+-----+--------+--------+
| PIN | SIDE B | SIDE A |
+=====+========+========+
| B1           | NC     | NOT CONNECTED                              | A1           | NC     | NOT CONNECTED                              |
+-----+--------+--------+
| B2           | X0D0   | P1A0   |        |        |        |        | A2           |*5V*    | POWER SUPPLY 5V                            |
+-----+--------+--------+
| B3           |*GND*   | POWER SUPPLY GROUND                        | A3           | X0D12  | P1E0   |        |        |        |        |
+-----+--------+--------+
| B4           | X0D11  | P1D0   |        |        |        |        | A4           | X0D23  | P1H0   |        |        |        |        |
+-----+--------+--------+
| B5           |*3V3*   | POWER SUPPLY 3.3V                          | A5           |*GND*   | POWER SUPPLY GROUND                        |
+-----+--------+--------+
| B6           | X0D26  |        | P4E0   | P8C0   | P16B0  |        | A6           | X0D32  |        | P4E2   | P8C6   | P16B6  |        |
+-----+--------+--------+
| B7           | X0D27  |        | P4E1   | P8C1   | P16B1  |        | A7           | X0D33  |        | P4E3   | P8C7   | P16B7  |        |
+-----+--------+--------+
| B8           |*GND*   | POWER SUPPLY GROUND                        | A8           | X0D25  | P1J0   |        |        |        |        |
+-----+--------+--------+
| B9           | X0D28  |        | P4F0   | P8C2   | P16B2  |        | A9           | X0D30  |        | P4F2   | P8C4   | P16B4  |        |
+-----+--------+--------+
| B10          | X0D34  | P1K0   |        |        |        |        | A10          |*GND*   | POWER SUPPLY GROUND                        |
+-----+--------+--------+
| B11          | X0D29  |        | P4F1   | P8C3   | P16B3  |        | A11          | X0D31  |        | P4F3   | P8C5   | P16B5  |        |
+-----+--------+--------+
|**KEY**       |**KEY** |**MECHANICAL KEY**                          |**KEY**       |**KEY** | **MECHANICAL KEY**                         |
+-----+--------+--------+
| B12          | X0D36  | P1M0   |        | P8D0   | P16B8  |        | A12          | X0D42  |        |        | P8D6   | P16B14 |        |
+-----+--------+--------+
| B13          | X0D37  | P1N0   |        | P8D1   | P16B9  |        | A13          | X0D43  |        |        | P8D7   | P16B15 |        |
+-----+--------+--------+
| B14          |*CLK*   | MAIN SYSTEM CLOCK                          | A14          |*GND*   | POWER SUPPLY GROUND                        |
+-----+--------+--------+
| B15          | X0D24  | P1I0   |        |        |        |        | A15          | X0D35  | P1L0   |        |        |        |        |
+-----+--------+--------+
| B16          |*GND*   | POWER SUPPLY GROUND                        | A16          |*RST_N* | SYSTEM RESET (ACTIVE LOW)                  |
+-----+--------+--------+
| B17          | X0D38  | P1O0   |        | P8D2   | P16B10 |        | A17          | X0D40  |        |        | P8D4   | P16B12 |        |
+-----+--------+--------+
| B18          | X0D39  | P1P0   |        | P8D3   | P16B11 |        | A18          | X0D41  |        |        | P8D5   | P16B13 |        |
+-----+--------+--------+

+-----------------------+
| CIRCLE                |
+-----+--------+--------+
| PIN | SIDE B | SIDE A |
+=====+========+========+
| B1           | NC     | NOT CONNECTED                              | A1           | NC     | NOT CONNECTED                              |
+-----+--------+--------+
| B2           | X1D0   | P1A0   |        |        |        |        | A2           |*5V*    | POWER SUPPLY 5V                            |
+-----+--------+--------+
| B3           |*GND*   | POWER SUPPLY GROUND                        | A3           | X1D12  | P1E0   |        |        |        |        |
+-----+--------+--------+
| B4           | X1D11  | P1D0   |        |        |        |        | A4           | X1D23  | P1H0   |        |        |        |        |
+-----+--------+--------+
| B5           |*3V3*   | POWER SUPPLY 3.3V                          | A5           |*GND*   | POWER SUPPLY GROUND                        |
+-----+--------+--------+
| B6           | X1D26  |        | P4E0   | P8C0   | P16B0  |        | A6           | X1D32  |        | P4E2   | P8C6   | P16B6  |        |
+-----+--------+--------+
| B7           | X1D27  |        | P4E1   | P8C1   | P16B1  |        | A7           | X1D33  |        | P4E3   | P8C7   | P16B7  |        |
+-----+--------+--------+
| B8           |*GND*   | POWER SUPPLY GROUND                        | A8           | X1D25  | P1J0   |        |        |        |        |
+-----+--------+--------+
| B9           | X1D28  |        | P4F0   | P8C2   | P16B2  |        | A9           | X1D30  |        | P4F2   | P8C4   | P16B4  |        |
+-----+--------+--------+
| B10          | X1D34  | P1K0   |        |        |        |        | A10          |*GND*   | POWER SUPPLY GROUND                        |
+-----+--------+--------+
| B11          | X1D29  |        | P4F1   | P8C3   | P16B3  |        | A11          | X1D31  |        | P4F3   | P8C5   | P16B5  |        |
+-----+--------+--------+
|**KEY**       |**KEY** |**MECHANICAL KEY**                          |**KEY**       |**KEY** | **MECHANICAL KEY**                         |
+-----+--------+--------+
| B12          | X1D36  | P1M0   |        | P8D0   | P16B8  |        | A12          | NC     | NOT CONNECTED                              |
+-----+--------+--------+
| B13          | X1D37  | P1N0   |        | P8D1   | P16B9  |        | A13          | NC     | NOT CONNECTED                              |
+-----+--------+--------+
| B14          |*CLK*   | MAIN SYSTEM CLOCK                          | A14          |*GND*   | POWER SUPPLY GROUND                        |
+-----+--------+--------+
| B15          | X1D24  | P1I0   |        |        |        |        | A15          | X1D35  | P1L0   |        |        |        |        |
+-----+--------+--------+
| B16          |*GND*   | POWER SUPPLY GROUND                        | A16          |*RST_N* | SYSTEM RESET (ACTIVE LOW)                  |
+-----+--------+--------+
| B17          | X1D38  | P1O0   |        | P8D2   | P16B10 |        | A17          | NC     | NOT CONNECTED                              |
+-----+--------+--------+
| B18          | X1D39  | P1P0   |        | P8D3   | P16B11 |        | A18          | NC     | NOT CONNECTED                              |
+-----+--------+--------+